// Generated by CoffeeScript 1.6.2
var _this = this;

describe("Cantante", function() {
  var cancion, cantante;

  cantante = new Cantante();
  cancion = new Cancion();
  beforeEach(function() {
    cantante = new Cantante();
    return cancion = new Cancion();
  });
  it("debería ser capaz de tocar una cancion", function() {
    var bool;

    bool = cantante.play(cancion);
    expect(bool).toEqual(true);
    return expect(cantante.currentlyPlayingSong).toEqual(cancion);
  });
  describe("Cuando una canción ha sido pausada ...", function() {
    beforeEach(function() {
      cantante.play(cancion);
      return cantante.pause();
    });
    it("debería indicar que canción está actualmente en pausa", function() {
      cantante.play(cancion);
      cantante.pause();
      return expect(cantante.isPlaying).toBeFalsy();
    });
    return it("Debería ser posible darle a continuar", function() {
      cantante.resume();
      expect(cantante.isPlaying).toBeTruthy();
      return expect(cantante.currentlyPlayingSong).toEqual(cancion);
    });
  });
  it("Dice si la canción actual está como favorita", function() {
    spyOn(cancion, 'persistFavoriteStatus');
    cantante.play(cancion);
    cantante.makeFavorite();
    return expect(cancion.persistFavoriteStatus).toHaveBeenCalledWith(true);
  });
  return describe("#resume", function() {
    return it("Debería lanzar una excepción si la canción ya está en marcha", function() {
      cantante.play(cancion);
      return expect(function() {
        return cantante.resume();
      }).toThrowError("La canción ya está en marcha");
    });
  });
});
